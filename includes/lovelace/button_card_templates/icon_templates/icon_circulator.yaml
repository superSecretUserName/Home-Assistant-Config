#################################################################
## Air Circulator
#################################################################
styles:
  custom_fields:
    icon:
      - width: 2.85em
      - left: 5%
      - top: 11%
      - position: absolute
custom_fields:
  icon: >
    [[[
      const state = (variables.state === 'on') ? 'on' : null;
      return `
        <svg viewBox="0 0 50 50">
          <style>
            @keyframes spin {
              from: {transform:rotate(0deg);}
              to: {transform:rotate(360deg);}   
            }               
          </style>
          # BASE
          <path fill="#9da0a2" d="M38.12714,42.7467C41.23047,45.21246,43.09888,48.98932,43.09888,53C43.09888,53.55273,42.65113,54,42.09888,54L17.90113,54C17.34888,54,16.90113,53.55273,16.90113,53C16.90113,48.98914,18.76966,45.21295,21.87324,42.7467C15.29524,39.67266,10.71607,33.01117,10.71607,25.28418C10.71607,14.65039,19.36695,6,30.00025,6C40.63355,6,49.28394,14.65039,49.28394,25.28418C49.28394,33.01117,44.70502,39.67267,38.12714,42.7467ZM35.92554,43.62671C35.52667,43.75586,35.11725,43.85871,34.70752,43.9621C34.58881,43.99231,34.47064,44.02594,34.35169,44.05384C34.0008,44.1352,33.64624,44.20393,33.28833,44.26575C33.0459,44.30835,32.80328,44.34406,32.56006,44.3772C32.26496,44.41657,31.97089,44.45691,31.67181,44.48273C31.24615,44.52045,30.82,44.53864,30.39349,44.54749C30.26141,44.55018,30.13299,44.56739,30.00024,44.56739C29.86725,44.56739,29.73858,44.55012,29.6062,44.54743C29.18005,44.53852,28.75427,44.52045,28.32898,44.48273C28.02966,44.45691,27.73535,44.41657,27.44006,44.37714C27.19702,44.34406,26.95453,44.30835,26.71222,44.26575C26.35437,44.20386,25.99994,44.1352,25.64911,44.0539C25.52936,44.02582,25.41052,43.99201,25.29108,43.96162C24.8819,43.85835,24.47303,43.75563,24.07465,43.6266C21.15595,45.47682,19.25971,48.59102,18.94703,52.00001L41.05299,52.00001C40.74031,48.5901,38.84419,45.47706,35.92555,43.62672L35.92554,43.62671ZM47.28394,25.28418C47.28394,15.75391,39.53052,8,30.00025,8C20.46949,8,12.71607,15.75391,12.71607,25.28418C12.71607,32.83148,17.58649,39.24732,24.34357,41.59747C24.74933,41.73803,25.1579,41.86017,25.56806,41.96997C25.66126,41.99475,25.75458,42.01898,25.8484,42.04224C26.22547,42.13654,26.60395,42.21796,26.98359,42.28638C27.1493,42.31568,27.31703,42.33844,27.48426,42.36298C27.8144,42.41242,28.1446,42.46021,28.47584,42.49012C28.77424,42.51636,29.07722,42.52515,29.37971,42.53596C29.79115,42.5511,30.2021,42.55122,30.61353,42.53633C30.91907,42.52553,31.22504,42.51662,31.52637,42.49007C31.85395,42.46047,32.18055,42.4131,32.50702,42.3644C32.67853,42.33931,32.85053,42.31594,33.02045,42.28585C33.39734,42.21786,33.77301,42.13698,34.1474,42.04342C34.24371,42.01955,34.33948,41.99471,34.43518,41.96926C34.84466,41.85952,35.25262,41.73769,35.65771,41.59713C42.41393,39.24667,47.28393,32.83108,47.28393,25.2842L47.28394,25.28418ZM31.70581,47.7627C31.70581,48.31543,31.25806,48.7627,30.70581,48.7627L29.29419,48.7627C28.74194,48.7627,28.29419,48.31543,28.29419,47.7627C28.29419,47.20997,28.74194,46.7627,29.29419,46.7627L30.70581,46.7627C31.25806,46.7627,31.70581,47.20997,31.70581,47.7627Z"/>
          # FAN
          <path class="${state}" fill="${variables.light_color}" d="M42.634033,19.401367C41.753174,18.732422,40.761475,18.501953,39.841553,18.761719C37.69751,19.360352,36.714111,20.402344,35.763428,21.410156C35.347351,21.851318,34.941162,22.279846,34.425598,22.67627C35.653381,20.558899,36.791992,17.65387,36.593994,15.086914C36.357178,11.967774,33.838135,10.030274,30.019287,10.030274C27.713623,10.030274,25.285889,11.106445,24.115967,12.646484C23.448975,13.524414,23.222412,14.513672,23.477783,15.432617C24.077881,17.585938,25.123779,18.572266,26.13501,19.525391C26.57782,19.942017,27.007996,20.348816,27.406006,20.865967C25.284912,19.634338,22.370544,18.490784,19.802002,18.680664C16.683838,18.925781,14.746826,21.444336,14.746826,25.254883C14.746826,27.603516,15.798584,29.979492,17.363525,31.168945C18.005615,31.65625,18.707275,31.908203,19.397705,31.908203C19.650635,31.908203,19.902588,31.875,20.14917,31.805664C22.297119,31.206055,23.281006,30.160156,24.232666,29.149414C24.647644,28.708252,25.053223,28.279419,25.567139,27.881775C24.338013,29.995483,23.197876,32.901733,23.396728,35.478516C23.632568,38.598633,26.151611,40.537109,29.971435,40.537109C32.2771,40.537109,34.704834,39.460938,35.874756,37.920899C36.541748,37.042969,36.768311,36.053711,36.512939,35.134766C35.91333,32.982422,34.868896,31.998047,33.859131,31.044922C33.417725,30.628235,32.988647,30.221802,32.591858,29.705383C34.553589,30.843079,37.18457,31.90918,39.595459,31.90918C39.794678,31.90918,39.99292,31.901367,40.188721,31.886719C43.312744,31.641602,45.253662,29.118164,45.253662,25.302734C45.253662,23,44.176514,20.573242,42.634033,19.401367ZM22.776123,27.77832C21.907959,28.701172,21.222412,29.429688,19.612061,29.878906C19.301025,29.967773,18.952393,29.864258,18.573486,29.576172C17.665772,28.886719,16.746826,27.180664,16.746826,25.254883C16.746826,23.638672,17.163818,20.893555,19.957275,20.674805C20.101318,20.664062,20.248291,20.658203,20.398193,20.658203C22.520264,20.658203,25.164307,21.744141,27.079346,23.001953C27.079285,23.002014,27.079285,23.002014,27.079224,23.002075C26.968628,23.143188,26.87085,23.293457,26.781982,23.448914C26.753235,23.499207,26.730286,23.552307,26.703918,23.603882C26.648498,23.712341,26.596252,23.82196,26.551636,23.93573C26.526977,23.998718,26.506348,24.062744,26.485107,24.127136C26.449097,24.236145,26.41803,24.346375,26.392212,24.458923C26.376831,24.526062,26.362488,24.592957,26.35083,24.661194C26.330444,24.780151,26.318115,24.900574,26.309448,25.022278C26.306274,25.067078,26.295715,25.11023,26.294189,25.155273C24.52417,25.920898,23.601318,26.901367,22.776123,27.77832ZM34.586182,35.670898C34.672607,35.982422,34.570557,36.332031,34.282471,36.710938C33.593018,37.618164,31.890869,38.537109,29.971436,38.537109C28.667236,38.537109,25.609619,38.224609,25.390869,35.326172C25.226807,33.199219,26.357666,30.270508,27.712158,28.200195C27.713562,28.201294,27.71521,28.202087,27.716614,28.203186C27.859192,28.314575,28.010437,28.413452,28.167297,28.502808C28.214111,28.52948,28.263733,28.550537,28.311707,28.575195C28.424378,28.633118,28.538452,28.687317,28.656616,28.73346C28.718079,28.757507,28.780579,28.777466,28.843384,28.798218C28.95459,28.834961,29.067017,28.86676,29.181824,28.892883C29.247986,28.907959,29.313721,28.922058,29.380859,28.933533C29.500855,28.954041,29.622131,28.966309,29.74469,28.974915C29.789917,28.978088,29.833618,28.988708,29.87915,28.990234C30.636963,30.753906,31.613525,31.675781,32.486572,32.5C33.408447,33.369141,34.135986,34.055664,34.586182,35.670898ZM28.291748,25.28418C28.291748,24.666016,28.625244,24.098633,29.19165,23.785156C29.32251,23.708008,29.479736,23.649414,29.664307,23.611328C29.816101,23.579102,29.961792,23.582214,30.106018,23.589234C30.190308,23.594482,30.273071,23.604981,30.354065,23.622193C30.425232,23.636963,30.493652,23.65802,30.56134,23.681946C30.645447,23.711609,30.728699,23.743103,30.806702,23.785645C30.877197,23.824768,30.941406,23.873901,31.005859,23.923218C31.065918,23.968323,31.128845,24.009094,31.182922,24.062439C31.296997,24.176758,31.401062,24.30426,31.484192,24.451294C31.559875,24.585999,31.616455,24.734436,31.653076,24.892578C31.656006,24.911133,31.659424,24.929688,31.66333,24.948242C31.686767,25.060547,31.698974,25.173828,31.698974,25.28418C31.698974,25.90625,31.365478,26.477539,30.820068,26.77832C30.685303,26.854492,30.541748,26.90918,30.383056,26.946289C30.360107,26.949219,30.337646,26.953125,30.315674,26.958008C30.06842,27.013977,29.811035,26.980774,29.561645,26.910523C29.134888,26.789673,28.739685,26.51947,28.512024,26.122803C28.419739,25.950073,28.35907,25.789063,28.325439,25.600586C28.303467,25.5,28.291748,25.390625,28.291748,25.28418ZM32.279053,22.366211C32.223389,22.322571,32.160889,22.289307,32.102905,22.248962C32.059814,22.219116,32.016785,22.190186,31.972534,22.16217C31.851257,22.085022,31.726624,22.015625,31.597229,21.953003C31.553467,21.931763,31.509644,21.911743,31.465088,21.892212C31.336792,21.836182,31.206299,21.78772,31.07196,21.74646C31.015076,21.728821,30.958252,21.713257,30.900574,21.698364C30.779541,21.667603,30.657898,21.642517,30.533508,21.624145C30.454285,21.612122,30.375183,21.603882,30.295105,21.597107C30.236145,21.592346,30.178833,21.57904,30.119385,21.577148C29.358643,19.814453,28.381104,18.892578,27.506592,18.069336C26.58374,17.200195,25.854736,16.512695,25.404541,14.896484C25.318115,14.584961,25.420166,14.235351,25.708252,13.856445C26.397705,12.949218,28.099854,12.030273,30.019287,12.030273C31.323486,12.030273,34.381103,12.342773,34.599853,15.239258C34.599853,15.240234,34.599853,15.240234,34.599853,15.241211C34.769287,17.43457,33.622315,20.320313,32.279053,22.366211ZM40.033447,29.892578C37.854248,30.049805,34.967041,28.915039,32.912842,27.571289C33.023926,27.429138,33.121704,27.277649,33.210815,27.120972C33.239197,27.071045,33.261963,27.018494,33.288025,26.967285C33.343994,26.8573,33.396423,26.745972,33.441284,26.630615C33.465759,26.567627,33.486511,26.503662,33.507629,26.43927C33.543762,26.328796,33.574768,26.21698,33.600525,26.102844C33.615723,26.0354,33.630371,25.968445,33.641846,25.899902C33.662048,25.779663,33.673828,25.657898,33.682129,25.534912C33.685303,25.487976,33.696106,25.442749,33.69751,25.395508C35.468994,24.636719,36.392334,23.658203,37.218018,22.783203C38.085693,21.863281,38.770752,21.136719,40.378662,20.688477C40.688721,20.599609,41.041748,20.704102,41.424072,20.994141C42.333252,21.68457,43.253662,23.386719,43.253662,25.302734C43.253662,26.922852,42.835205,29.672852,40.033447,29.892578Z" transform="translate(50%, 50%)"/>
        </svg>
      `;
    ]]]